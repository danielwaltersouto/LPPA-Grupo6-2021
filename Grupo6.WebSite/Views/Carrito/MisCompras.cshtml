@model IEnumerable<Grupo6.Entities.Models.Carrito>
@{
    ViewBag.Title = "MisCompras";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">
    <h2 class="text-center">Mis Compras</h2>

    <div class="table-responsive">
        <table class="table table-striped table-sm">
            <thead>
                <tr>
                    <th>Fecha Compra</th>
                    <th>Total</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr id="row_@item.Id">
                        <td style="vertical-align: inherit;">
                            @item.Creado.ToString("dd/MM/yyyy")
                        </td>
                        <td style="vertical-align: inherit;">
                            @{
                                decimal total = 0;

                                foreach (var i in item.ItemCarrito)
                                {
                                    total += i.Cantidad * i.Producto.Precio;
                                }
                            }
                            @total
                        </td>
                        <td class="float-right">
                            <a class="btn btn-info" style="font-size: 1rem;" href="@Url.Action("Edit", "CategoriaProducto", new { id = item.Id})"><i class="fas fa-eye"></i></a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>


